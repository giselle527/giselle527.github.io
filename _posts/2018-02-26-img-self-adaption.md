---
layout: post
title: "图片自适应"
description: 让图片的大小随屏幕大小改变。
categories: []
tags: []
---

## 当图片通过img标签引入时

用容器（假设为div）包住img，为img添加如下属性：

```
img{
    width: auto\9;
    width: 100%;
    max-width: 100%;
    height: auto;
    overflow: hidden;
}

```
\9是hack css的一种写法，在正常css代码后面加"\9"，只有IE浏览器能识别，其他浏览器会忽略这条语句。目的是兼容IE浏览器。

```
<div>
    <img src="xxx" />
</div>

```

### css hack

css hack的目的就是使CSS代码兼容不同的浏览器，也可以反过来利用CSS hack为不同版本的浏览器定制编写不同的CSS效果。

* IE6识别`*和_`，不识别 !important
* IE7识别`*, 不识别_`，识别 !important
* firefox不识别`*和_`，识别 !important　


## 当图片是背景图片时

给元素添加如下属性：

```
background:url(xxxx) center no-repeat;
background-size: 100% 100%; //注意：百比分是背景图的宽高相对于元素的宽高计算出来的，元素的宽高含padding值。

```

参见[如何用CSS实现背景图片自适应](https://www.w3cschool.cn/css3/question-10231610.html)

## 解决图片自适应时会不清晰的方法

应该掌握的概念：

* 手机分辨率：屏幕的像素点，比如1080*1920。
* 屏幕大小：手机屏幕对角线的物理长度，比如4.7寸、5寸。
* 实际密度(dpi/dot per inch)：每英寸的像素点数，数值越高效果越细腻。
    - 实际密度的计算公式：实际密度 = 屏幕对角线上的像素点数÷屏幕对角线的物理长度
* 分辨率和屏幕宽度之间有一个倍屏系数换算。

### 准备优质图

图片质量越好，当然越清晰。

### 准备多张图

在媒体查询里为不同的设备使用不同的图，也就是说越大的设备用分辨率越高的图。问题是有损性能，写起来还麻烦。

### 设置max-width和max-height

限制图片的最大宽高，可以使图片不变糊。问题是有损布局，页面上其他元素都放的更大了，图片不放大，不协调。

### 在媒体查询中放弃更大的设备

和限制图片的最大宽高同理，只是放弃更大设备可以让所有元素都不放更大。




